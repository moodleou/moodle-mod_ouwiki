define("mod_ouwiki/pageselector",["exports","core/pending"],(function(_exports,_pending){var obj;
/**
   * JavaScript to handle ouwiki.
   *
   * @module mod_ouwiki/pageselector
   * @copyright 2024 The Open University
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_pending=(obj=_pending)&&obj.__esModule?obj:{default:obj};class PageSelector{init(pagesSelected){const pendingpage=new _pending.default("mod_ouwiki/indexTrees");document.querySelectorAll(".ouw_indextree").forEach((list=>{list.querySelectorAll("input.ouwiki_page_checkbox").forEach((checkbox=>{const pageId=checkbox.value;pagesSelected&&pagesSelected.includes(pageId)&&(checkbox.checked=!0),checkbox.addEventListener("click",(event=>{var _event$target$closest;const pending=new _pending.default("mod_ouwiki/childCheckboxes"),isChecked=event.target.checked,childCheckboxes=null===(_event$target$closest=event.target.closest("li"))||void 0===_event$target$closest?void 0:_event$target$closest.querySelectorAll("ul li input.ouwiki_page_checkbox");childCheckboxes&&childCheckboxes.forEach((child=>{child.checked=isChecked})),pending.resolve()}))}))})),pendingpage.resolve()}}_exports.init=pagesSelected=>{(new PageSelector).init(pagesSelected)}}));

//# sourceMappingURL=pageselector.min.js.map